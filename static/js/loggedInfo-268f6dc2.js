import{d as n}from"./pinia-d75d73cf.js";import{e as s}from"./index-f3494083.js";function f(t){return s.post({url:"/api/user/login",data:t})}function o(t){return s.post({url:"/api/user/list",data:t})}function l(){return s.get({url:"/api/product/list"})}function L(){return s.get({url:"/api/VersionInfo"})}function u(){return s.get({url:"/api/project/list"})}function p(){return s.get({url:"/api/build/GetInfoList"})}const h=n("loggedInfo",{state:()=>({userList:[],prodList:[],prjectList:[],infoList:[]}),getters:{devList(t){const a=t.userList.filter(e=>e.dept===3),r=[];return a.forEach(e=>{let i={type:"option"};i.label=e.realname,i.value=e.account,r.push(i)}),r},devSelectList(){let t=[];return this.devList.forEach(a=>{t.push(a.value)}),t},qaList(t){const a=t.userList.filter(e=>e.dept===4),r=[];return a.forEach(e=>{let i={type:"option"};i.label=e.realname,i.value=e.account,r.push(i)}),r},qaSelectList(){let t=[];return this.qaList.forEach(a=>{t.push(a.value)}),t},prodSelectList(t){let a=[];return t.prodList.forEach(r=>{let e={type:"option"};e.label=r.name,e.value=r.id,a.push(e)}),a},projectSelectList(t){let a=[];return t.prjectList.forEach(r=>{let e={type:"option"};e.label=r.name,e.value=r.id,a.push(e)}),a},versionList(t){return t.infoList.map(r=>{let e={};return e.type="option",e.label=r.name,e.value=r.id,e})}},actions:{handleUserList(){o({id:"",dept:"",account:"",role:"",gender:""}).then(a=>{a.data&&a.data.length&&(this.userList=a.data)})},handleProductList(){l().then(t=>{t.data&&t.data.length&&(this.prodList=t.data)})},handleProjectList(){u().then(t=>{t.data&&t.data.length&&(this.prjectList=t.data)})},handleInfoList(){p().then(t=>{t.data&&t.data.length&&(this.infoList=t.data)})}},persist:!0});export{f as a,L as g,h as u};
